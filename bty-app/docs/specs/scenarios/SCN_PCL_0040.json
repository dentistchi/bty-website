{
  "schema_version": "bty_scenario_v1",
  "scenario_id": "SCN_PCL_0040",
  "title": "Patient Cancels Last Minute",
  "summary": "High-production patient cancels 30 minutes before appointment. Maintain professionalism: reschedule calmly, mention policy for next time—professionalism protects relationships.",
  "context_type": "relationship",
  "stage_mapping": { "primary_stage": 1, "stage_flow": [1, 2, 3, 4] },
  "roles_supported": ["Doctor", "Staff", "Manager", "DSO", "Executive"],
  "default_viewpoint": "Leader",
  "supports_reset": false,
  "tags": { "org": ["BTY"], "setting": ["dental_office"], "themes": ["cancellation", "policy", "professionalism"], "sensitivity": "low" },
  "scene": {
    "setting": "High-production patient cancels 30 minutes before appointment. You may feel angry or disappointed; the hidden risk is frustration controlling response and loyalty suffering. The decision point is express frustration vs maintain professionalism.",
    "characters": [
      { "id": "lead", "role_type": "Manager", "label": "You" },
      { "id": "pt", "role_type": "External", "label": "Patient" }
    ],
    "beats": [
      {
        "beat_id": "b1",
        "narration": "The cancellation just happened. The decision point is charge fee immediately or call and reschedule calmly.",
        "dialogue": [
          { "speaker": "lead", "line": "I'll help you reschedule. For next time, our policy is X—we'll send a reminder. When works for you?" }
        ]
      }
    ]
  },
  "choices": [
    {
      "choice_id": "A",
      "label": "Charge cancellation fee immediately and enforce policy.",
      "engine_signals": { "choice_type": "process_fix", "risk_flags": [] },
      "activation_plan": {
        "activation_template_id": "ACT_PCL_0040_A",
        "type": "micro_win",
        "weight": 1.0,
        "window_hours": 24,
        "steps": [
          { "step": "Apply policy; explain once; offer to reschedule; document exceptions.", "timebox_minutes": 5 }
        ],
        "scripts": { "leader_lines": ["Policy can be firm and still kind. Here's our policy—and let's get you rescheduled.", "How do we apply cancellation policy fairly?"], "questions": ["Consistent for everyone?", "Explain once then apply?"], "closing_line": "Consistent policy; explain once; document exceptions." },
        "verification": { "method": "qr", "verifier_role": "Manager", "remote_allowed": true }
      }
    },
    {
      "choice_id": "B",
      "label": "Call and reschedule calmly; mention policy for next time.",
      "engine_signals": { "choice_type": "process_fix", "risk_flags": [] },
      "activation_plan": {
        "activation_template_id": "ACT_PCL_0040_B",
        "type": "micro_win",
        "weight": 1.0,
        "window_hours": 24,
        "steps": [
          { "step": "Call; reschedule calmly; mention policy for next time.", "timebox_minutes": 5 },
          { "step": "When to waive vs apply: first time vs repeat, emergency vs convenience; clear policy in writing.", "timebox_minutes": 5 }
        ],
        "scripts": { "leader_lines": ["Let's get you rescheduled. For next time, our policy is X—we'll send a reminder.", "Professionalism protects relationships."], "questions": ["When do we waive vs apply the fee?", "What's our policy in writing?"], "closing_line": "First time vs repeat; emergency vs convenience; policy in writing." },
        "verification": { "method": "qr", "verifier_role": "LeaderPeer", "remote_allowed": true }
      }
    },
    {
      "choice_id": "C",
      "label": "Ignore it and say nothing.",
      "engine_signals": { "choice_type": "withdraw", "risk_flags": ["avoidance"] },
      "activation_plan": {
        "activation_template_id": "ACT_PCL_0040_C",
        "type": "micro_win",
        "weight": 1.0,
        "window_hours": 24,
        "steps": [{ "step": "Calm call to reschedule; policy reminder in confirmation; document pattern.", "timebox_minutes": 10 }],
        "scripts": { "leader_lines": ["Ignoring doesn't protect the schedule or relationship. Let's call and reschedule—and set expectation.", "How do we address last-minute cancellations?"], "questions": ["What do we say?", "Policy in confirmation?"], "closing_line": "Calm call; policy in confirmation; document pattern." },
        "verification": { "method": "qr", "verifier_role": "Manager", "remote_allowed": true }
      }
    },
    {
      "choice_id": "D",
      "label": "Reschedule and send a brief policy reminder by text/email.",
      "engine_signals": { "choice_type": "delegate_with_checkpoint", "risk_flags": [] },
      "activation_plan": {
        "activation_template_id": "ACT_PCL_0040_D",
        "type": "micro_win",
        "weight": 1.0,
        "window_hours": 24,
        "steps": [
          { "step": "Reschedule; short, factual policy reminder by text/email; in confirmation and reminder; same for all patients.", "timebox_minutes": 5 }
        ],
        "scripts": { "leader_lines": ["You're rescheduled. Here's a quick reminder of our cancellation policy for next time.", "Written reminder supports consistent policy."], "questions": ["How do we communicate policy without sounding harsh?", "Same for all patients?"], "closing_line": "Short factual message; in confirmation and reminder; same for all." },
        "verification": { "method": "qr", "verifier_role": "Manager", "remote_allowed": true }
      }
    }
  ],
  "system_prompts": { "nudge": "Professionalism protects relationships.", "mirror_call": "Did you express frustration or maintain professionalism?" },
  "delayed_outcome": {
    "delay_days": 14,
    "reentry_conditions": { "if_choice_types_in_last_14d": ["withdraw"] },
    "outcomes": [
      { "outcome_id": "O1", "if": { "pattern": "repeated_direct_fix" }, "message": "No expectation set. They may cancel last-minute again; team may resent inconsistent handling.", "reflection_questions": ["What would have changed with reschedule-calmly?", "How do we address last-minute cancellations?"] },
      { "outcome_id": "O2", "if": { "pattern": "delegation_micro_wins_present" }, "message": "Relationship kept and expectation set. They're more likely to return and respect the policy.", "reflection_questions": ["When do you waive vs apply the fee?", "How do you communicate policy without sounding harsh?"] }
    ]
  },
  "metrics_hooks": { "air": { "counts_activation": true }, "mwd": { "micro_win": true }, "tsp": { "weekly_pulse_prompt": "This week I stayed professional when a patient cancelled last minute. (1-5)" } }
}
