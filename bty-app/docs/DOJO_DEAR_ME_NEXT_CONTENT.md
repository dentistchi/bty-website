# Dojo·Dear Me 1차 콘텐츠 스펙 (기획)

**목적**: Arena 완료 전제로, Dojo/Dear Me를 "맛보기 이후 채울 목록"으로 1차 분량만 스펙·목차 수준으로 정리.  
**참고**: `docs/ROADMAP_NEXT_STEPS.md` § Dojo·Dear Me, `docs/NEXT_TASKS_2.md` §1-1.

---

## 전제

- **Arena**: 시나리오·XP·리더보드·주간 퀘스트 등 구조와 구현이 정리된 상태. MVP의 한 축으로 완성됨.
- **Dojo·Dear Me**: 당분간 기본 맛보기만 제공. 이 문서는 **나중에 채울 콘텐츠**의 1차 스펙·목차를 둔다.

---

## 1. Dojo — 1차 콘텐츠 후보

**현재**: 멘토(Dr. Chi)·역지사지 등 **구조는 있음**. 구체 콘텐츠(문항·연습 플로우)는 차차 채울 예정.

### 1-1. 50문항 분석 (후보 1)

| 항목 | 내용 |
|------|------|
| **목표** | 사용자가 50문항(역지사지/소통 관련)에 응답 → 결과 해석·피드백 제공. |
| **입력** | 문항별 선택지 또는 짧은 텍스트 응답. (문항 세트·선택지 정의는 별도 콘텐츠 설계) |
| **출력** | 요약·차트(예: 영역별 점수), Dr. Chi 멘토 관점의 짧은 코멘트. |
| **플로우** | 진입 → 문항 진행(한 번에 N문항 또는 전체) → 제출 → 결과 화면 + 멘토 코멘트. |
| **데이터** | 응답 저장(선택), 결과 캐시. 기존 `activity_xp_events` 또는 Dojo 전용 테이블 검토. |
| **우선순위** | 1차에서 **목차·스펙만** 확정. 실제 문항 DB·UI는 2차. |

### 1-2. 연습 플로우 (후보 2)

| 항목 | 내용 |
|------|------|
| **목표** | "역지사지 연습" 또는 "대화 연습" 같은 **단일 시나리오형 플로우** 1종. |
| **플로우** | 안내 문구 → 단계별 질문/시나리오(텍스트 또는 선택) → Dr. Chi 피드백 → 완료. |
| **연동** | 기존 멘토 API(`/api/mentor`) 또는 챗 모드(`bty`)와 연동해 피드백 생성. 필요 시 Dojo 전용 엔드포인트. |
| **XP** | `DOJO_DEAR_ME_XP_SPEC.md`에 따라 Dojo 활동 시 XP 기록(이미 스펙 있음). |
| **우선순위** | 1차에서 **1개 플로우**만 스펙(단계 수·화면 수)·목차 수준으로 정리. 구현은 2차. |

### 1-3. Dojo 1차 산출물 요약

- **문서**: 위 1-1·1-2를 "Dojo 1차 콘텐츠 스펙"으로 유지. 문항 세트·선택지·실제 UI 와이어프레임은 2차에서 채움.
- **코드**: 당분간 기존 Dojo/멘토/챗 구조만 유지. 새 라우트·폼은 스펙 확정 후 추가.

### 1-4. Dojo 2차: 50문항 목차·연습 플로우 1종 스펙 (PROJECT_BACKLOG §7)

**50문항 분석 목차 (목차 수준)**

| 영역 | 문항 수 | 설명 (스펙) |
|------|---------|-------------|
| 역지사지 | 10 | 상대 입장 이해·역할 뒤집기 관련 문항. 선택지 5단계 리커트. |
| 소통·경청 | 10 | 경청·질문·피드백 수용 관련. |
| 리더십·책임 | 10 | 결정·위임·피드백 주기 관련. |
| 갈등·협상 | 10 | 대립 상황·타협·윈윈 관련. |
| 팀·협업 | 10 | 팀 목표·역할·신뢰 관련. |
| **플로우** | 진입 → 문항 진행(한 번에 10문항 또는 전체) → 제출 → 결과(영역별 점수) + Dr. Chi 코멘트. |

**연습 플로우 1종: 역지사지 연습 (단계 목차)**

| 단계 | 내용 (스펙) |
|------|-------------|
| 1. 진입 | Dojo 소개 1~2문장 + "시작하기" → 훈련 선택(멘토·역지사지)으로 이동. |
| 2. 안내 | 역지사지 연습 목표·방법 1~2문장. |
| 3. 시나리오 | 단일 상황 제시 + 선택지(텍스트 또는 선택). |
| 4. 피드백 | Dr. Chi 관점 코멘트. 기존 `/api/mentor` 또는 Dojo 전용 엔드포인트. |
| 5. 완료 | "오늘의 연습 완료" + (선택) 다음 연습 또는 멘토로. |

- **진입·1단계 구현**: `/bty` 첫 화면에 소개 + "시작하기", 클릭 시 `/bty/mentor`(1단계 = 훈련 선택)로 이동. (아래 §4 2차 구현 요약 참고.)

---

## 2. Dear Me — 1차 스펙·목차

**현재**: 자존감 회복 훈련·플로우 설계가 **아직 없음**. 1페이지 스펙 또는 목차 수준으로 정리.

### 2-1. Dear Me 목표

- **콘셉트**: "나에게 쓰는 편지"·자존감 회복 훈련. 챗 모드 `today-me`(안전해요, 그대로 괜찮아요)와 일치.
- **진입**: `/dear-me` 또는 랜딩/챗에서 "Dear Me" 안내 시 해당 경로로 유도.

### 2-2. 1차 플로우 (목차 수준)

| 단계 | 내용 (스펙 수준) | 구현 |
|------|------------------|------|
| **1. 진입** | Dear Me 소개 1~2문장 + "시작하기" 버튼. | ✅ 2차 구현: `/dear-me` 첫 화면에 `entryIntro` + `startCta`(시작하기), 클릭 시 본문(자존감 진단·안전한 거울 등) 노출. `todayMe.entryIntro`, `todayMe.startCta` (i18n), PageClient 진입 단계 분기. |
| **2. 오늘의 나** | 짧은 자기 점검(선택): 기분·에너지 수준 등 1~3문항. (문항 정의는 2차) | — |
| **3. 편지 쓰기** | "나에게 쓰는 편지" 프롬프트 + 자유 텍스트 입력. 저장·비공개 전제. | — |
| **4. 답장/피드백** | Dr. Chi(또는 Dear Me 전용 톤)의 짧은 답장 또는 격려 메시지. LLM 또는 템플릿. | — |
| **5. 완료** | "오늘의 편지 완료" + (선택) Dear Me 대시 또는 챗으로 계속하기. | — |

### 2-3. 데이터·API (1차 범위)

- **저장**: 편지 텍스트·메타(날짜, 사용자) — 테이블 설계는 2차. 개인정보·보관 정책 포함.
- **API**: `POST /api/dear-me/letter` (초안), 응답 생성은 기존 챗/멘토 패턴 재사용 검토.
- **XP**: `DOJO_DEAR_ME_XP_SPEC.md`에 따라 Dear Me 활동 시 XP 기록(스펙 있음).

### 2-4. Dear Me 1차 산출물 요약

- **문서**: 위 2-1~2-3을 "Dear Me 1차 스펙"으로 유지. 상세 문항·UI·보관 정책은 2차.
- **코드**: 당분간 기존 Dear Me 경로·챗 모드만 유지. 편지 저장·전용 API는 스펙 확정 후 추가.

---

## 3. 공통·참고

- **챗봇**: 전역 챗은 이미 Arena/Dojo/Dear Me 공통. Dojo·Dear Me 전용 플로우에서도 같은 Dr. Chi·모드 활용.
- **XP**: Dojo/Dear Me 활동 XP는 `docs/DOJO_DEAR_ME_XP_SPEC.md`·`activity_xp_events` 연동 이미 스펙됨.
- **로드맵**: `docs/ROADMAP_NEXT_STEPS.md` 권장 순서 6번 — "Dojo·Dear Me 콘텐츠"는 Arena 안정 후 구체 그림 채움.

---

## 4. 2차 구현 요약

- **진입·1단계 구현**: `/bty` 첫 화면에 소개 1~2문장(`bty.entryIntro`) + "시작하기" 버튼(`bty.startCta`). 클릭 시 `/bty/mentor`(1단계 = 훈련 선택)로 이동.  
  수정: `src/lib/i18n.ts`(bty.entryIntro, bty.startCta ko/en), `src/app/[locale]/bty/(protected)/page.tsx`(locale·t 전달), `page.client.tsx`(진입 UI, 버튼 클릭 시 mentor로 navigate). ArenaLayoutShell·BtyTopNav 사용.

---

## 5. PROJECT_BACKLOG §7 2차 완료 체크리스트

| 완료 기준 | 상태 | 비고 |
|-----------|------|------|
| 50문항 목차 또는 연습 플로우 1종이 **문서에 정리**됨 | ✅ | §1-4: 50문항 5영역×10문항 목차 + 역지사지 연습 5단계 스펙 |
| **진입** 화면 동작 | ✅ | `/bty`: entryIntro + startCta, ArenaLayoutShell·BtyTopNav |
| **1단계** 동작 (훈련 선택) | ✅ | "시작하기" → `/bty/mentor`. 멘토 주제 선택 + "역지사지 시뮬레이터" 링크로 훈련 선택 |

- **문서 위치**: §1-4 (50문항 목차, 연습 플로우 1종), §4 (진입·1단계 구현).
- **코드 위치**: `src/app/[locale]/bty/(protected)/page.client.tsx`(진입 UI), `page.tsx`(t 전달), `src/app/[locale]/bty/(protected)/mentor/page.client.tsx`(1단계 훈련 선택), `src/lib/i18n.ts` (bty.entryIntro, bty.startCta).

**구현 확인**: `/bty` 접속 시 소개 문구 + "시작하기" 버튼 노출, 클릭 시 `/[locale]/bty/mentor`로 이동. 멘토 페이지에서 주제 선택 또는 "역지사지 시뮬레이터" 링크로 훈련 선택 가능.

---

## 6. PROJECT_BACKLOG §7 — 스펙 1종 정리 (요약)

**선택한 1종**: **연습 플로우 1종 = 역지사지 연습** (5단계). 50문항 목차는 동일 문서 §1-4에 유지.

| 구분 | 내용 |
|------|------|
| **진입** | `/bty` — 소개 1~2문장(`bty.entryIntro`) + "시작하기"(`bty.startCta`). 클릭 시 1단계로 이동. |
| **1단계** | `/[locale]/bty/mentor` — 훈련 선택: (1) 멘토 주제 5종 중 선택, (2) "역지사지 시뮬레이터"(`/bty/integrity`) 링크. |
| **2~5단계** | 역지사지: 안내 → 시나리오/입력 → Dr. Chi 피드백 → 완료. (현재 integrity 페이지가 시나리오·피드백에 해당.) |

**화면 수**: 진입 1화면, 1단계(훈련 선택) 1화면. **API**: 멘토 `/api/mentor`, 역지사지는 현재 하드코딩 피드백(추후 Dojo 전용 엔드포인트 검토).
